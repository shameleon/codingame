import sys
from stock_exchange_losses import StockExchangeLosses

""" 
    # n: the total number of nodes in the level, including the gateways
    # l: the number of links
    # e: the number of exit gateways
"""


def test_stock_exchange_losses(v: list, answer: int, test: int):
    stock = StockExchangeLosses(len(v), v)
    stock_loss = stock.max_decrease()
    if stock_loss == answer:
        print(f'test {test} [OK]"')
    else:
        print(f'test {test} xxx Fail xxx')
    print()

def test5():
    """linear, no overlap"""
    values = [ 360206605, 753529295, 289276846, 389601008, 956209493, 759816072, 21292839, 95253218, 761349009, 529261257, 227451482,107216718, 257358645, 655524566, 143516595, 864350585, 811621355, 676849354, 1011422165, 187552695, 979999435, 631537455, 270847578, 593263592, 57503202, 1007228823, 161483104, 26251389, 755812096, 456180052, 45877475, 695186707, 731072228, 1037375540, 690948844, 193283995, 559521199, 388395606, 23226767, 423372563, 691363237, 526490632, 443269046, 805276883, 335091016, 472240313, 343698878, 781685086, 104846778, 636989946, 914074342, 702973394, 103586418, 180948368, 863314059, 515234527, 582506305, 761877395, 470342708, 1003740751, 49332647, 1015000480, 384382320, 435103774, 326515322, 724416539, 377492611, 1039212583, 552111320, 617148031, 249485027, 547788120, 689473389, 273214398, 821223044, 1037823873, 303023369, 472494003, 107784439, 155325607, 832588165, 916662949, 27794260, 755608304, 58910709, 390750165, 939687932, 850653211, 1030076209, 109346846, 573932319, 11726731, 452667817,
  550286150, -261414588, -719338357, 422775481, 8750843, 316156322, 256338598, -670977084, -64808555, 640367904, -811841893, 854451003, -893224225, 168279323, 589179161, -767768068, 940672242, -545270422, 520026881, -883609017, 6560111, 242448097, 540881675, -285361367, -98142587, 65597092, 291146005, -31727955, 55467939, 186918444, -270728370, -784486718, 676107767, -284796901, 311310599, 40563946, -283386705, 479249855, -816945324, 878256296, -1004370709, 922859880, -510741658, 15216807, 460275076, -357834391, 48215721, -242908502, 254386815, 303878128, -885575524, 427046456, -140851122, 36187015, 140606066, 449416708, 28950222, -373695386, 155261037, -706315235, 980142073, -894811522, 868779254, -149011238, -295190929, 502546502, -641724036, -372448125, 749201319, -128080316, -232031982, -98655296, -213045771, 161434457, 289439944, 435488450, -662012357, -266150443, 957989317, -127139021, -631323282, -79611593, 258373929, -112908066, 609208784, 105696448, -368445019, -659740387, 29350887, 341860030, 464198359, -752162552, 295443263, 144914586, -346176922, 399379031, 348179173, -717715554, 93741793, 514168603, 122483103, -450855289, -365360040, 635845666, 100024811, 128877518, -241997128, -273531358, -285080129, -140478282, 573230567, -403958357, 446138873, 18343190, 20780963, 262102479, -882096724, 427201507, -379245797, 152732046, -284051190, 254602373, 62995018, -275885052, 3194926, 916526294, -637334248, -38830255, 746444179, -650467335, 280501807, 187201099, -806518708, 755994081, 43592094, -412527386, -295179768, 191578012, 495880494, 206429024, -659662650, 322077796, 303069831, -219647956, -669710248, 112882532, 56634114, 323212452, 316645273, -204847542, -192404147, 64747629, 271990125, -856930159, 148929730, 833165225, -896738948, 363523980, 280810115, -593555488, 162952367, -191109327, 430968925, -382363733, -159820440, 116105130, 120812890, 481084710, -401519744, 507029405, -499363804, 436997907, -194988023, 464969527, -31096036, -133122866, -312421183, -410562565, 218607165, -14468875, 225277776, -508414644, 653040307, -390440238, -133149622, -134381124, 469255218, -502482287, 968050146, -239932141, 57383968, -782691301, 635550322, -183675107, 235594340, 304069842, -449089879, 171313979, 62074886, -668545032, -105609330, 976695464, -276263025, -439536172, -51306431, -170822777, 501202719, -423136856, 557514604, -713575757, 412907597, 530834009]
    
    answer = -1073730311
    test_stock_exchange_losses(values, answer, "5")


def test4():
    """linear, no overlap"""
    values = [5, 3, 5, 2, 5, 0, 8, 4]
    answer = -5
    test_stock_exchange_losses(values, answer, "4")


def test3():
    """linear, no overlap"""
    values = [42, 38, 40, 43, 34, 30, 32, 25, 30, 28, 26]
    answer = -17
    test_stock_exchange_losses(values, answer, "3")

def test2():
    """linear, no overlap"""
    values = [5, 3, 4, 2, 3, 1]
    answer = -4
    test_stock_exchange_losses(values, answer, "2")

def test1():
    """linear, no overlap"""
    values = []
    answer = 0
    test_stock_exchange_losses(values, answer, "1")


def main():
    test1()
    test2()
    test3()
    test4()
    test5()


if __name__ == "__main__":
    main()